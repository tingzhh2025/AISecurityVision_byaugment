# AI Security Vision System - APIç«¯ç‚¹æµ‹è¯•æŠ¥å‘Š

## æµ‹è¯•æ¦‚è¿°
- **æµ‹è¯•æ—¶é—´**: 2025-06-05 18:39-18:47
- **åç«¯åœ°å€**: http://localhost:8080
- **åç«¯çŠ¶æ€**: âœ… æ­£å¸¸è¿è¡Œ
- **ç‰ˆæœ¬**: 1.0.0
- **æ„å»ºæ—¶é—´**: Jun 5 2025 17:47:03

## æµ‹è¯•ç»“æœæ€»ç»“

### âœ… æ­£å¸¸å·¥ä½œçš„ç«¯ç‚¹ (å·²å®ç°)

| æ–¹æ³• | ç«¯ç‚¹ | æè¿° | çŠ¶æ€ç  | å“åº” |
|------|------|------|--------|------|
| GET | `/api/system/status` | è·å–ç³»ç»ŸçŠ¶æ€ | 200 | âœ… JSONå“åº”æ­£å¸¸ |
| GET | `/api/system/info` | è·å–ç³»ç»Ÿä¿¡æ¯ | 200 | âœ… åŒ…å«å¹³å°ã€ç‰ˆæœ¬ç­‰ä¿¡æ¯ |
| GET | `/api/cameras` | è·å–æ‘„åƒå¤´åˆ—è¡¨ | 200 | âœ… è¿”å›ç©ºåˆ—è¡¨ (æ— é…ç½®æ‘„åƒå¤´) |
| GET | `/api/detection/categories` | è·å–æ£€æµ‹ç±»åˆ« | 200 | âœ… è¿”å›å¯ç”¨çš„ç±»åˆ« |
| GET | `/api/network/interfaces` | è·å–ç½‘ç»œæ¥å£ | 200 | âœ… è¿”å›3ä¸ªç½‘ç»œæ¥å£è¯¦æƒ… |
| GET | `/api/source/discover` | ONVIFè®¾å¤‡å‘ç° | 200 | âœ… è¿”å›ç©ºè®¾å¤‡åˆ—è¡¨ |
| GET | `/api/recordings` | è·å–å½•åƒåˆ—è¡¨ | 200 | âœ… è¿”å›æ¨¡æ‹Ÿå½•åƒæ•°æ® |

### ğŸ”’ éœ€è¦è®¤è¯çš„ç«¯ç‚¹

| æ–¹æ³• | ç«¯ç‚¹ | æè¿° | çŠ¶æ€ç  | å“åº” |
|------|------|------|--------|------|
| GET | `/api/auth/users` | è·å–ç”¨æˆ·åˆ—è¡¨ | 403 | ğŸ”’ éœ€è¦ç®¡ç†å‘˜æƒé™ |

### âš ï¸ éœ€è¦è¿›ä¸€æ­¥æµ‹è¯•çš„ç«¯ç‚¹

| æ–¹æ³• | ç«¯ç‚¹ | æè¿° | çŠ¶æ€ | å¤‡æ³¨ |
|------|------|------|------|------|
| POST | `/api/cameras` | æ·»åŠ æ‘„åƒå¤´ | 400 | âš ï¸ é…ç½®éªŒè¯å¤±è´¥ |
| GET | `/api/detection/available-categories` | è·å–å¯ç”¨ç±»åˆ« | - | ğŸ”„ å“åº”è¾ƒæ…¢æˆ–è¶…æ—¶ |

## è¯¦ç»†æµ‹è¯•ç»“æœ

### 1. ç³»ç»Ÿç®¡ç†ç«¯ç‚¹

#### âœ… GET /api/system/status
```json
{
  "status": "running",
  "version": "1.0.0",
  "build_date": "Jun  5 2025 17:47:03",
  "uptime_seconds": 0,
  "active_pipelines": 0,
  "system_metrics": {
    "cpu_usage": 0.000000,
    "memory_usage": 0.0,
    "gpu_usage": "NVML N/A",
    "disk_usage": 0.0
  },
  "pipelines": [],
  "timestamp": "2025-06-05T10:39:38.266Z"
}
```

#### âœ… GET /api/system/info
```json
{
  "system_name": "AI Security Vision System",
  "version": "1.0.0",
  "build_date": "Jun  5 2025 17:47:03",
  "platform": "RK3588 Ubuntu",
  "cpu_cores": 8,
  "memory_total": "8GB",
  "gpu_info": "NVML N/A",
  "uptime_seconds": 0,
  "timestamp": "2025-06-05T10:42:22.418Z"
}
```

### 2. æ‘„åƒå¤´ç®¡ç†ç«¯ç‚¹

#### âœ… GET /api/cameras
```json
{
  "cameras": [],
  "count": 0
}
```

#### âš ï¸ POST /api/cameras
```json
{
  "error": "Invalid camera configuration",
  "status": 400,
  "timestamp": "2025-06-05T10:47:48.460Z"
}
```

### 3. AIæ£€æµ‹ç«¯ç‚¹

#### âœ… GET /api/detection/categories
```json
{
  "enabled_categories": ["person", "car", "bicycle"],
  "timestamp": "2025-06-05T10:43:35.955Z"
}
```

### 4. ç½‘ç»œç®¡ç†ç«¯ç‚¹

#### âœ… GET /api/network/interfaces
```json
{
  "interfaces": [
    {
      "name": "eth0",
      "type": "ethernet",
      "status": "å·²è¿æ¥",
      "ip_address": "192.168.1.199",
      "netmask": "255.255.255.0",
      "mac_address": "2e:ba:55:f1:b5:21",
      "mtu": 1500,
      "rx_bytes": 69286514,
      "tx_bytes": 304841594
    }
  ],
  "total": 3,
  "timestamp": "2025-06-05T10:45:22.898Z"
}
```

### 5. ONVIFå‘ç°ç«¯ç‚¹

#### âœ… GET /api/source/discover
```json
{
  "devices": [],
  "message": "No devices discovered"
}
```

### 6. å½•åƒç®¡ç†ç«¯ç‚¹

#### âœ… GET /api/recordings (æ¨¡æ‹Ÿæ•°æ®)
```json
{
  "recordings": [
    {
      "id": "rec_001",
      "camera_id": "camera_01",
      "filename": "camera_01_20250604_120000.mp4",
      "start_time": "2025-06-04T12:00:00Z",
      "end_time": "2025-06-04T12:05:00Z",
      "file_size": 52428800,
      "duration_seconds": 300,
      "event_type": "motion_detection",
      "is_available": true
    }
  ],
  "total": 2,
  "timestamp": "2025-06-05T10:47:14.675Z"
}
```

## å»ºè®®å’Œåç»­è¡ŒåŠ¨

### ğŸ”§ éœ€è¦ä¿®å¤çš„é—®é¢˜
1. **æ‘„åƒå¤´æ·»åŠ éªŒè¯**: POST /api/cameras çš„è¾“å…¥éªŒè¯éœ€è¦ä¼˜åŒ–
2. **å“åº”è¶…æ—¶**: æŸäº›ç«¯ç‚¹å“åº”è¾ƒæ…¢ï¼Œéœ€è¦ä¼˜åŒ–æ€§èƒ½
3. **è®¤è¯ç³»ç»Ÿ**: éœ€è¦å®ç°å®Œæ•´çš„JWTè®¤è¯æµç¨‹

### ğŸ“‹ éœ€è¦è¿›ä¸€æ­¥æµ‹è¯•çš„åŠŸèƒ½
1. äººå‘˜ç»Ÿè®¡ç«¯ç‚¹ (éœ€è¦é…ç½®æ‘„åƒå¤´åæµ‹è¯•)
2. æŠ¥è­¦ç®¡ç†ç«¯ç‚¹
3. äººè„¸ç®¡ç†ç«¯ç‚¹
4. ç³»ç»Ÿé…ç½®æ›´æ–°ç«¯ç‚¹

### ğŸš€ ç³»ç»ŸçŠ¶æ€è¯„ä¼°
- **æ ¸å¿ƒåŠŸèƒ½**: âœ… ç³»ç»ŸçŠ¶æ€ã€ä¿¡æ¯æŸ¥è¯¢æ­£å¸¸
- **ç½‘ç»œç®¡ç†**: âœ… ç½‘ç»œæ¥å£æŸ¥è¯¢æ­£å¸¸
- **è®¾å¤‡å‘ç°**: âœ… ONVIFå‘ç°åŠŸèƒ½æ­£å¸¸
- **æ•°æ®æ ¼å¼**: âœ… JSONå“åº”æ ¼å¼è§„èŒƒ
- **é”™è¯¯å¤„ç†**: âœ… é”™è¯¯å“åº”åŒ…å«é€‚å½“çš„çŠ¶æ€ç å’Œæ¶ˆæ¯

## æ€»ä½“è¯„ä»·
ğŸ‰ **åç«¯APIåŸºç¡€åŠŸèƒ½è¿è¡Œè‰¯å¥½ï¼** ä¸»è¦çš„æŸ¥è¯¢ç«¯ç‚¹éƒ½èƒ½æ­£å¸¸å“åº”ï¼ŒJSONæ ¼å¼è§„èŒƒï¼Œé”™è¯¯å¤„ç†å¾—å½“ã€‚å»ºè®®ä¼˜åŒ–æ‘„åƒå¤´é…ç½®éªŒè¯å’ŒæŸäº›ç«¯ç‚¹çš„å“åº”æ€§èƒ½ã€‚
